<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Select Language - {{ base_form.organization.name }}</title>
    <link href="https://cdn.replit.com/agent/bootstrap-agent-dark-theme.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body class="bg-dark">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6">
                <div class="card mt-5">
                    <div class="card-header text-center bg-primary">
                        <h3 class="text-white mb-0">
                            <i class="fas fa-language me-2"></i>
                            Select Language
                        </h3>
                    </div>
                    <div class="card-body">
                        <div class="text-center mb-4">
                            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iOCIgZmlsbD0iIzIxMjUyOSIvPgo8cGF0aCBkPSJNMjAgMjBIMjVWMjVIMjBWMjBaIiBmaWxsPSIjNkY0Mjc4Ii8+CjxwYXRoIGQ9Ik0zMCAyMEgzNVYyNUgzMFYyMFoiIGZpbGw9IiM2RjQyNzgiLz4KPHA+PC9wPgo8L3N2Zz4K" alt="QR Code" class="mb-3">
                            <h4>{{ base_form.name }}</h4>
                            <p class="text-muted">{{ base_form.organization.name }}</p>
                        </div>

                        <p class="text-center mb-4">Please select your preferred language to continue:</p>

                        <div class="d-grid gap-3">
                            {% for lang_code, lang_data in languages.items() %}
                            <a href="{{ url_for('public_form_display', form_id=base_form.id, language=lang_code) }}" 
                               class="btn btn-outline-primary btn-lg text-start">
                                <div class="d-flex align-items-center">
                                    <div class="me-3">
                                        {% if lang_code == 'en' %}
                                            <i class="fas fa-flag fa-lg"></i>
                                        {% elif lang_code == 'bn' %}
                                            <i class="fas fa-globe fa-lg"></i>
                                        {% elif lang_code == 'my' %}
                                            <i class="fas fa-globe fa-lg"></i>
                                        {% elif lang_code == 'ta' %}
                                            <i class="fas fa-globe fa-lg"></i>
                                        {% elif lang_code == 'zh' %}
                                            <i class="fas fa-globe fa-lg"></i>
                                        {% endif %}
                                    </div>
                                    <div>
                                        <div class="fw-bold">{{ lang_data.name }}</div>
                                        <small class="text-muted">{{ lang_data.form.form_type.title() }} Form</small>
                                    </div>
                                </div>
                            </a>
                            {% endfor %}
                        </div>

                        <div class="text-center mt-4">
                            <small class="text-muted">
                                <i class="fas fa-shield-alt me-1"></i>
                                Secure form access via QR code
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>